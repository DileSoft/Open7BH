import{v as we,d as X,a as Y,b as Se,c as Ie,e as ke,f as De,g as ze,h as Le,j as n,i as c,F,k as Z,l as M,B as D,S as m,M as f,T as b,m as K,I as A,n as Te,o as Ee,p as Ne,s as Re,q as $e,r as E,G,t as P,D as Oe,u as Me,w as Ve,C as ee,x as Fe,y as Ge,z as Pe,A as te,E as Ue,R as _e}from"./vendor.0a97c372.js";const He=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}};He();var o;(function(r){r.Calc="calc",r.Pickup="pickup",r.Drop="drop",r.End="end",r.Foreach="foreach",r.EndForeach="endforeach",r.Give="give",r.Goto="goto",r.Hear="hear",r.If="if",r.EndIf="endif",r.Near="near",r.Say="say",r.Step="step",r.Take="take",r.Variable="variable",r.Write="write"})(o||(o={}));class C{constructor(e){this.level=e,this.id=we()}prepare(e){}remove(){}}var p;(function(r){r.Up="Up",r.Down="Down",r.Left="Left",r.Right="Right",r.UpLeft="UpLeft",r.UpRight="UpRight",r.DownLeft="DownLeft",r.DownRight="DownRight"})(p||(p={}));var y;(function(r){r.Up="Up",r.Down="Down",r.Left="Left",r.Right="Right",r.UpLeft="UpLeft",r.UpRight="UpRight",r.DownLeft="DownLeft",r.DownRight="DownRight",r.Here="Here"})(y||(y={}));var g;(function(r){r.Direction="Direction",r.Slot="Slot",r.Near="Near"})(g||(g={}));class re extends C{constructor(e){super(e);this.type=g.Direction,this.directions=[p.Down]}setDirection(e){this.type=g.Direction,this.directions=e}setSlot(e){this.type=g.Slot,this.slot=e}prepare(e){if(this.type===g.Direction){const l=Ae(this.directions);e.prepareMove(l)}if(this.type===g.Slot&&e.slots[this.slot].getCellValue()){const l=this.level.findNear([e.cell.x,e.cell.y],t=>t===e.slots[this.slot].getCellValue());console.log(e.slots[this.slot].getCellValue()),console.log(l),l.length>1&&l[1]&&(e.nextMove=l[1])}}execute(e){return this.type===g.Slot&&e.nextMove?e.currentLine:e.currentLine+1}serialize(e){return{type:o.Step,stepType:this.type,directions:this.directions,slot:this.slot,object:e?this:void 0}}deserialize(e){this.type=e.stepType,this.directions=e.directions,this.slot=e.slot}}const le=r=>r.split("x").map(e=>parseInt(e)),Ae=r=>r[Math.floor(Math.random()*r.length)],z=r=>{const l={[y.Left]:X,[y.Right]:Y,[y.Up]:Se,[y.Down]:Ie,[y.UpLeft]:ke,[y.UpRight]:De,[y.DownLeft]:ze,[y.DownRight]:Le,[y.Here]:null}[r];return l?n(l,{fontSize:"small"}):null};class q{constructor(e,l,t,s){this.isRandom=!1,this.value=0,this.tag=null,this.value=e,this.isRandom=l,l&&(this.value=Math.floor(Math.random()*(s-t+1))+t)}setTag(e){this.tag=e}}var j;(function(r){r.Empty="empty",r.Wall="wall",r.Hole="hole",r.Printer="printer",r.Shredder="shredder"})(j||(j={}));class U{constructor(e,l,t){this.character=null,this.item=null,this.isEmpty=!1,this.level=e,this.x=l,this.y=t}getCharacter(){return this.character}setCharacter(e){this.isEmpty&&(e.cell&&(e.cell.character=null),this.character=e,e.cell=this)}getItem(){return this.item}setItem(e){this.item=e}removeItem(){this.item=null}}class se{constructor(e){this.character=e}getNumberValue(){return 0}getCellValue(){}getCharacterValue(){}}class ie extends se{constructor(){super(...arguments);this.number=0}setNumber(e){this.number=e}getNumberValue(){return this.number}}class B extends U{constructor(e,l,t,s,i){super(e,l,t);this.isEmpty=!0,this.min=0,this.max=99,this.min=s||0,this.max=i||99}print(){return Math.floor(Math.random()*(this.max-this.min+1))+this.min}getType(){return j.Printer}}class J extends U{constructor(){super(...arguments);this.isEmpty=!0,this.shredded=0}getType(){return j.Shredder}shred(){this.shredded++}}class ne{constructor(e,l){this.color="green",this.item=null,this.isTerminated=!1,this.isDead=!1,this.slots=[],this.currentLine=0,this.cell=e,this.name=l;for(let t=0;t<4;t++)this.slots.push(new ie(this))}prepareMove(e){this.nextMove=this.getMoveCell(e,!0)}prepare(){if(this.isTerminated||this.hear)return;const e=this.cell.level.game.code;if(this.currentLine>=e.length)return;e[this.currentLine].prepare(this)}update(){if(this.isTerminated||this.hear)return;const e=this.cell.level.game.code;if(this.currentLine>=e.length)return;const l=e[this.currentLine];this.currentLine=l.execute(this),this.currentLine>=e.length&&(this.isTerminated=!0)}setItem(e){this.item=e}giveItem(e){const l=this.cell.level.getMoveCell(this.cell.x,this.cell.y,e);l&&l.character&&!l.character.item&&this.item&&(l.character.setItem(this.item),this.item=null),l&&l instanceof J&&this.item&&(l.shred(),this.item=null)}take(e){const l=this.cell.level.getMoveCell(this.cell.x,this.cell.y,e);l&&l instanceof B&&!this.item&&(this.item=new q(l.print()))}write(e){this.item&&(this.item.value=e)}pickupItem(){const e=this.cell.getItem();e&&!this.item&&(this.setItem(e),this.cell.removeItem())}dropItem(){this.item&&!this.cell.getItem()&&(this.cell.setItem(this.item),this.item=null)}getMoveCell(e,l=!1){const t=this.cell.level.getMoveCell(this.cell.x,this.cell.y,e);return t&&t.isEmpty&&(l||!t.character)?t:void 0}say(e,l){const t=this.cell.level.getMoveCell(this.cell.x,this.cell.y,l);t&&t.character&&t.character.hear===e&&(t.character.hear=null,t.character.currentLine++)}terminate(){this.isTerminated=!0}die(){this.isDead=!0,this.terminate(),this.cell.character=null}}class _ extends U{constructor(){super(...arguments);this.isEmpty=!0}getType(){return j.Empty}}class ae extends U{constructor(){super(...arguments);this.isEmpty=!0}getType(){return j.Hole}}class L{constructor(e){this.cells={},this.game=e}serialize(e){const l={task:this.task,width:this.width,height:this.height,cells:[],winCallback:this.winCallback,object:e?this:void 0};return Object.values(this.cells).forEach(t=>{const s=t.getCharacter();l.cells.push({x:t.x,y:t.y,type:t.getType(),character:s?{name:s.name,color:s.color,coordinates:[t.x,t.y],object:e?s:void 0}:null,item:t.getItem()?{isRandom:t.getItem().isRandom,value:t.getItem().value,tag:t.getItem().tag}:void 0,object:e?t:void 0})}),l}deserialize(e){this.task=e.task,this.width=e.width,this.height=e.height,this.winCallback=e.winCallback,e.cells.forEach(l=>{let t;l.type===j.Empty&&(t=new _(this,l.x,l.y)),l.type===j.Hole&&(t=new ae(this,l.x,l.y)),l.type===j.Printer&&(t=new B(this,l.x,l.y)),l.type===j.Shredder&&(t=new J(this,l.x,l.y)),l.character&&t.setCharacter(new ne(t,l.character.name)),l.item&&(t.setItem(new q(l.item.value,l.item.isRandom)),l.item.tag&&(t.getItem().tag=l.item.tag)),this.addCell(l.x,l.y,t)})}addCharacter(e,l,t){this.getCell(l,t).setCharacter(e)}moveCharacters(){const e=this.getCharacters().filter(t=>t.nextMove),l=[...e];for(;l.length;)l.forEach(t=>{const s=t.nextMove;if(s&&!s.character){console.log(t.name,"move to empty"),t.cell.character=null,t.cell=s,s.character=t,l.splice(l.indexOf(t),1),t.nextMove=null;return}if(s&&s.character&&s.character.nextMove&&s.character.nextMove===t.cell){const i=t.cell,a=s.character.cell,u=t,d=s.character;i.character=d,a.character=u,u.cell=a,d.cell=i,l.splice(l.indexOf(t),1),l.splice(l.indexOf(s.character),1),u.nextMove=null,d.nextMove=null;return}s&&s.character&&!s.character.nextMove&&(console.log(t.name,"move to character",s.character.name),l.splice(l.indexOf(t),1),t.nextMove=null)});e.forEach(t=>{t.cell.getType()===j.Hole&&t.die()}),console.log(this.getCharacters().filter(t=>t.nextMove))}addCell(e,l,t){this.cells[`${e}x${l}`]=t}getCell(e,l){return this.cells[`${e}x${l}`]}getMoveCell(e,l,t){if(t===y.Here)return this.getCell(e,l);if(t===y.Up)return this.getCell(e,l-1);if(t===y.Down)return this.getCell(e,l+1);if(t===y.Left)return this.getCell(e-1,l);if(t===y.Right)return this.getCell(e+1,l);if(t===y.UpLeft)return this.getCell(e-1,l-1);if(t===y.UpRight)return this.getCell(e+1,l-1);if(t===y.DownLeft)return this.getCell(e-1,l+1);if(t===y.DownRight)return this.getCell(e+1,l+1)}getCharacters(){return Object.values(this.cells).map(e=>e.getCharacter()).filter(e=>e!==null)}findNear(e,l){const t=[],s={[`${e[0]}x${e[1]}`]:0};if(this.markNearRecursive(e,l,1,s,t),t.length){t.sort((a,u)=>s[a]-s[u]);const i=this.getPathRecursive(this.cells[t[0]],s);return i.reverse(),i}return[]}getPathRecursive(e,l={},t=[]){if(t.push(e),l[`${e.x}x${e.y}`]===0)return t;for(const s in Object.values(p)){const i=Object.values(p)[s],a=this.getMoveCell(e.x,e.y,i);if(a&&l[`${a.x}x${a.y}`]===l[`${e.x}x${e.y}`]-1)return this.getPathRecursive(a,l,t)}return t}markNearRecursive(e,l,t,s={},i=[]){if(this.cells[`${e[0]}x${e[1]}`])for(const a in Object.values(p)){const u=Object.values(p)[a],d=this.getMoveCell(e[0],e[1],u);if(!!d&&!(d.getType()!==j.Empty&&!l(d))&&!(s[`${d.x}x${d.y}`]!==void 0&&s[`${d.x}x${d.y}`]<=t)){if(s[`${d.x}x${d.y}`]=t,d&&l(d)){i.push(`${d.x}x${d.y}`);return}this.markNearRecursive([d.x,d.y],l,t+1,s,i)}}}changeSize(e,l){for(let t=0;t<e;t++)for(let s=0;s<l;s++)this.cells[`${t}x${s}`]||(this.cells[`${t}x${s}`]=new _(this,t,s));this.width=e,this.height=l}crop(e,l){Object.keys(this.cells).forEach(t=>{const s=t.split("x");(parseInt(s[0])>=e||parseInt(s[1])>=l)&&delete this.cells[t]}),this.width=e,this.height=l}}L.parseCells=(r,e)=>{const l=[];return r.split(/[\r\n]+/).forEach((t,s)=>{t.split(/ +/).forEach((i,a)=>{const u=i.split("|"),d={type:j.Empty,x:a,y:s,character:void 0};u[0]==="box"&&(d.item={value:parseInt(u[1]),isRandom:u[1]==="random"}),u[0]==="hole"&&(d.type=j.Hole),u[0]==="printer"&&(d.type=j.Printer),u[0]==="shredder"&&(d.type=j.Shredder);const T=e.find(h=>h.coordinates[0]===a&&h.coordinates[1]===s);T&&(d.character=T),l.push(d)})}),l};class oe extends C{execute(e){return e.dropItem(),e.currentLine+1}serialize(e){return{type:o.Drop,object:e?this:void 0}}deserialize(e){}}class ce extends C{execute(e){return e.terminate(),e.currentLine}serialize(e){return{type:o.End,object:e?this:void 0}}deserialize(e){}}class qe extends C{execute(e){return e.currentLine+1}serialize(e){return{type:o.EndForeach,id:this.id,operatorForeach:this.operatorForeach.id,object:e?this:void 0}}deserialize(e){this.id=e.id,this.operatorForeach=this.level.game.code.find(l=>l.id===e.operatorForeach)}}class he extends C{constructor(){super(...arguments);this.directions=[],this.slotNumber=0}execute(e){return e.currentLine+1}createEndForeach(){const e=new qe(this.level);return e.operatorForeach=this,this.operatorEndForeach=e,e}setDirections(e){this.directions=e}serialize(e){return{type:o.Foreach,id:this.id,operatorEndForeach:this.operatorEndForeach.id,directions:this.directions,slotNumber:this.slotNumber,object:e?this:void 0}}deserialize(e){this.id=e.id,this.operatorEndForeach=this.level.game.code.find(l=>l.id===e.id),this.directions=e.directions,this.slotNumber=e.slotNumber}}class de extends C{constructor(e){super(e);this.direction=p.Down}setDirection(e){this.direction=e}execute(e){return e.giveItem(this.direction),e.currentLine+1}serialize(e){return{type:o.Give,direction:this.direction,slot:this.slot,object:e?this:void 0}}deserialize(e){this.direction=e.direction,this.slot=e.slot}}class ue extends C{constructor(){super(...arguments);this.line=0}execute(e){return this.line}setLine(e){this.line=e}serialize(e){return{type:o.Goto,line:this.line,object:e?this:void 0}}deserialize(e){this.line=e.line}}class pe extends C{execute(e){return e.hear=this.hear,e.currentLine+1}setHear(e){this.hear=e}serialize(e){return{type:o.Hear,hear:this.hear,object:e?this:void 0}}deserialize(e){this.hear=e.hear}}class W extends se{setCell(e){this.cellValue=e}getCellValue(){return this.cellValue}}class Be extends C{remove(){const e=this.level.game.code.findIndex(l=>l===this.operatorIf);this.level.game.code.splice(e,1)}execute(e){return e.currentLine+1}serialize(e){return{type:o.EndIf,id:this.id,operatorIf:this.operatorIf.id,object:e?this:void 0}}deserialize(e){this.id=e.id,this.operatorIf=this.level.game.code.find(l=>l.id===e.operatorIf)}}var w;(function(r){r.Eq="eq",r.Ne="ne",r.Gt="gt",r.Ge="ge",r.Lt="lt",r.Le="le"})(w||(w={}));var $;(function(r){r.And="and",r.Or="or"})($||($={}));var x;(function(r){r.Direction="direction",r.Number="number",r.Slot="slot",r.MyItem="myItem"})(x||(x={}));var S;(function(r){r.Direction="direction",r.Number="number",r.Slot="slot",r.MyItem="myItem",r.Box="box",r.Printer="printer",r.Shredder="shredder",r.Character="character",r.Hole="hole"})(S||(S={}));class ve extends C{constructor(e){super(e);this.conditions=[],this.conditions.push({type:w.Eq,leftType:x.Number,leftNumber:0,leftSlot:null,rightType:S.Number,rightNumber:0,rightSlot:null,logic:$.Or})}checkCondition(e){let l=!1;return this.conditions.forEach(t=>{var a,u,d,T;let s=!1;const i=t.type===w.Eq;if(t.rightType===S.Box)t.leftType===x.MyItem&&(s=!!e.item,i||(s=!s)),t.leftType===x.Slot&&e.slots[t.leftSlot]instanceof W&&(s=!!e.slots[t.leftSlot].cellValue.item,i||(s=!s)),t.leftType===x.Direction&&(s=!!this.level.getMoveCell(e.cell.x,e.cell.y,t.leftDirection).item,i||(s=!s));else if(t.rightType===S.Printer||t.rightType===S.Shredder||t.rightType===S.Hole)t.leftType===x.Slot&&e.slots[t.leftSlot]instanceof W&&(s=e.slots[t.leftSlot].cellValue.getType()===t.rightType,i||(s=!s)),t.leftType===x.Direction&&(s=this.level.getMoveCell(e.cell.x,e.cell.y,t.leftDirection).getType()===t.rightType,i||(s=!s));else{let h=0,v=0;switch(t.leftType===x.Number?h=t.leftNumber:t.leftType===x.Slot?h=e.slots[t.leftSlot].getNumberValue():t.leftType===x.MyItem?h=((a=e.item)==null?void 0:a.value)||0:t.leftType===x.Direction&&(h=((u=this.level.getMoveCell(e.cell.x,e.cell.y,t.leftDirection).item)==null?void 0:u.value)||0),t.rightType===S.Number?v=t.rightNumber:t.rightType===S.Slot?v=e.slots[t.rightSlot].getNumberValue():t.rightType===S.MyItem?v=((d=e.item)==null?void 0:d.value)||0:t.rightType===S.Direction&&(v=((T=this.level.getMoveCell(e.cell.x,e.cell.y,t.rightDirection).item)==null?void 0:T.value)||0),t.type){case w.Eq:s=h===v;break;case w.Ne:s=h!==v;break;case w.Gt:s=h>v;break;case w.Ge:s=h>=v;break;case w.Lt:s=h<v;break;case w.Le:s=h<=v;break}}t.logic===$.And?l=l&&s:t.logic===$.Or&&(l=l||s)}),l}remove(){const e=this.level.game.code.findIndex(l=>l===this.operatorEndIf);this.level.game.code.splice(e,1)}execute(e){return this.checkCondition(e)?e.currentLine+1:this.level.game.code.findIndex(l=>l===this.operatorEndIf)+1}createEndIf(){const e=new Be(this.level);return e.operatorIf=this,this.operatorEndIf=e,e}serialize(e){return{type:o.If,id:this.id,conditions:this.conditions,operatorEndIf:this.operatorEndIf.id,object:e?this:void 0}}deserialize(e){this.id=e.id,this.operatorEndIf=this.level.game.code.find(l=>l.id===e.id),this.conditions=e.conditions}}var O;(function(r){r.Printer="printer",r.Shredder="shredder",r.Hole="hole",r.Empty="empty"})(O||(O={}));class me extends C{constructor(){super(...arguments);this.slot=0,this.nearType=O.Printer,this.numberValue=0,this.slotValue=0}execute(e){const l=this.level.findNear([e.cell.x,e.cell.y],s=>s.getType()===this.nearType);let t=l[l.length-1];return(this.nearType===O.Printer||this.nearType===O.Shredder)&&(t=this.level.getMoveCell(t.x,t.y,p.Up)),e.slots[this.slot]=new W(e),e.slots[this.slot].setCell(t),e.currentLine+1}setSlot(e){this.slot=e}setNearType(e){this.nearType=e}serialize(e){return{type:o.Near,slot:this.slot,nearType:this.nearType,object:e?this:void 0}}deserialize(e){this.slot=e.slot,this.nearType=e.nearType}}class fe extends C{execute(e){return e.pickupItem(),e.currentLine+1}serialize(e){return{type:o.Pickup,object:e?this:void 0}}deserialize(e){}}class ye extends C{execute(e){return e.say(this.hear,this.direction),e.currentLine+1}setSay(e){this.hear=e}setDirection(e){this.direction=e}serialize(e){return{type:o.Say,hear:this.hear,direction:this.direction,object:e?this:void 0}}deserialize(e){this.hear=e.hear,this.direction=e.direction}}class be extends C{constructor(e){super(e);this.direction=p.Down}setDirection(e){this.direction=e}execute(e){return e.take(this.direction),e.currentLine+1}serialize(e){return{type:o.Take,direction:this.direction,object:e?this:void 0}}deserialize(e){this.direction=e.direction}}var N;(function(r){r.Number="number",r.Slot="slot",r.MyItem="myItem"})(N||(N={}));class ge extends C{constructor(){super(...arguments);this.slot=0,this.variableType=N.Number,this.numberValue=0,this.slotValue=0}execute(e){return this.variableType===N.Number&&(e.slots[this.slotValue]=new ie(e),e.slots[this.slotValue].setNumber(this.numberValue)),e.currentLine+1}setSlot(e){this.slot=e}setNumberValue(e){this.variableType=N.Number,this.numberValue=e}setSlotValue(e){this.variableType=N.Slot,this.slotValue=e}setMyItemValue(){this.variableType=N.MyItem}serialize(e){return{type:o.Variable,slot:this.slot,variableType:this.variableType,numberValue:this.numberValue,slotValue:this.slotValue,object:e?this:void 0}}deserialize(e){this.slot=e.slot,this.variableType=e.variableType,this.numberValue=e.numberValue,this.slotValue=e.slotValue}}class je extends C{constructor(){super(...arguments);this.value=0}execute(e){return e.write(this.value),e.currentLine+1}setLine(e){this.value=e}serialize(e){return{type:o.Write,value:this.value,object:e?this:void 0}}deserialize(e){this.value=e.value}}var I;(function(r){r.Run="Run",r.Stop="Stop"})(I||(I={}));class Q{constructor(){this.code=[],this.state=I.Stop,this.speed=1e3}getLevel(){return this.level}setLevel(e){this.level=e}addOperator(e,l){let t;e===o.Pickup&&(t=new fe(this.level)),e===o.Drop&&(t=new oe(this.level)),e===o.End&&(t=new ce(this.level)),e===o.Goto&&(t=new ue(this.level)),e===o.Hear&&(t=new pe(this.level)),e===o.If&&(t=new ve(this.level),this.code.splice(l,0,t.createEndIf())),e===o.Say&&(t=new ye(this.level)),e===o.Step&&(t=new re(this.level)),e===o.Take&&(t=new be(this.level)),e===o.Variable&&(t=new ge(this.level)),e===o.Write&&(t=new je(this.level)),e===o.Foreach&&(t=new he(this.level),this.code.splice(l,0,t.createEndForeach())),e===o.Give&&(t=new de(this.level)),e===o.Near&&(t=new me(this.level)),t&&this.code.splice(l,0,t)}removeOperator(e){const l=this.code[e];this.code.splice(e,1),l.remove()}start(){this.state=I.Run,this.interval=window.setInterval(()=>{this.state===I.Run&&this.update()},this.speed)}stop(){clearInterval(this.interval),this.state=I.Stop}update(){!this.level.getCharacters().filter(e=>!e.isTerminated).length||(this.level.getCharacters().forEach(e=>{e.prepare()}),this.level.getCharacters().forEach(e=>{e.update()}),this.level.moveCharacters(),this.level.winCallback(this.level),this.level.getCharacters().length<2&&console.log("Wrong character"),console.log(this.level.cells),this.render())}deserialize(e){this.level||(this.level=new L(this)),this.level.deserialize(e.level),this.code=e.code.map(l=>{if(l.type===o.Drop){const t=new oe(this.level);return t.deserialize(l),t}if(l.type===o.End){const t=new ce(this.level);return t.deserialize(l),t}if(l.type===o.Foreach){const t=new he(this.level);return t.deserialize(l),t}if(l.type===o.Give){const t=new de(this.level);return t.deserialize(l),t}if(l.type===o.Goto){const t=new ue(this.level);return t.deserialize(l),t}if(l.type===o.Hear){const t=new pe(this.level);return t.deserialize(l),t}if(l.type===o.If){const t=new ve(this.level);return t.deserialize(l),t}if(l.type===o.Near){const t=new me(this.level);return t.deserialize(l),t}if(l.type===o.Pickup){const t=new fe(this.level);return t.deserialize(l),t}if(l.type===o.Say){const t=new ye(this.level);return t.deserialize(l),t}if(l.type===o.Step){const t=new re(this.level);return t.deserialize(l),t}if(l.type===o.Take){const t=new be(this.level);return t.deserialize(l),t}if(l.type===o.Variable){const t=new ge(this.level);return t.deserialize(l),t}if(l.type===o.Write){const t=new je(this.level);return t.deserialize(l),t}return null})}serialize(e=!1){return{level:this.level.serialize(e),code:this.code.map(l=>l.serialize(e)),state:this.state,speed:this.speed,object:e?this:void 0}}moveOperator(e,l){if(!this.code[e]||!this.code[l])return;const t=this.code[e];this.code.splice(e,1),this.code.splice(l,0,t)}render(){console.log("render"),this.renderCallback(this.serialize(!0))}}const k=80;function Ce(r){const e=r.game.object.level.cells,l=Object.keys(e).map(s=>{const i=le(s),a=e[s];let u;return a instanceof _&&(u=null,a.getItem()&&(u=c(F,{children:[n(Z,{fontSize:"small"})," ",a.item.isRandom&&r.game.state!==I.Run?"?":a.item.value]}))),a instanceof ae&&(u=n("div",{style:{width:"100%",height:"100%",backgroundColor:"black"}})),a instanceof B&&(u="printer"),a instanceof J&&(u="shredder"),n("div",{onClick:()=>r.onClick(s),style:{position:"absolute",left:i[0]*k,top:i[1]*k,width:k,height:k,borderStyle:"solid",borderColor:"black",borderWidth:1,display:"flex",alignItems:"center",justifyContent:"center"},children:u},s)}),t=r.game.object.level.getCharacters().sort((s,i)=>s.name>i.name?1:-1).map(s=>{const i=[s.cell.x,s.cell.y];return c("div",{style:{position:"absolute",opacity:s.isDead?0:1,transform:`translate(${i[0]*k}px, ${i[1]*k+10}px)`,transition:`all ${r.game.speed}ms ease-in`},children:[n(M,{fontSize:"small",style:{color:s.color}}),s.item?c(F,{children:["(",n(Z,{fontSize:"small"})," ",s.item.value,")"]}):null]},s.name)});return c("div",{style:{position:"relative",width:r.game.level.width*k+k/2,height:r.game.level.height*k+k/2},children:[l,t]})}function Je(r){return n(F,{children:Object.values(o).map(e=>n("div",{children:n(D,{onClick:()=>{r.game.object.addOperator(e,0),r.game.object.render()},children:`Add ${e}`})},e))})}const We=(r,e,l)=>c("span",{children:["Step:"," ",n(m,{IconComponent:null,value:r.object.type,onChange:t=>{t.target.value===g.Direction&&(r.object.setDirection([p.Down]),l.object.render()),t.target.value===g.Slot&&(r.object.setSlot(0),l.object.render())},variant:"standard",children:Object.values(g).map(t=>n(f,{value:t,children:t},t))}),r.object.type===g.Direction&&n(m,{IconComponent:null,value:r.object.directions,variant:"standard",multiple:!0,onChange:t=>{r.object.setDirection(t.target.value),l.object.render()},children:Object.values(p).map(t=>c(f,{value:t,children:[z(t),t]},t))}),r.object.type===g.Slot&&n(b,{type:"number",value:r.slot,variant:"standard",onChange:t=>{r.object.setSlot(parseInt(t.target.value)||0),l.object.render()}})]}),Qe=(r,e,l)=>c("span",{children:["Give:"," ",n(M,{fontSize:"small"}),n(Y,{fontSize:"small"}),n(K,{fontSize:"small"})," ",n(m,{IconComponent:null,value:r.direction,variant:"standard",onChange:t=>{r.object.setDirection(t.target.value),l.object.render()},children:Object.values(p).map(t=>c(f,{value:t,children:[z(t),t]},t))})]}),Xe=(r,e,l)=>c("span",{children:["Take"," ",n(M,{fontSize:"small"}),n(X,{fontSize:"small"}),n(K,{fontSize:"small"})," ",n(m,{IconComponent:null,value:r.direction,variant:"standard",onChange:t=>{r.object.setDirection(t.target.value),l.object.render()},children:Object.values(p).map(t=>c(f,{value:t,children:[z(t),t]},t))})]}),Ye=(r,e,l)=>c("span",{children:["Goto:"," ",n(m,{IconComponent:null,value:r.line,variant:"standard",onChange:t=>{r.object.setLine(parseInt(t.target.value.toString())),l.object.render()},children:Object.keys(l.code).map(t=>n(f,{value:t,children:t},t))})]}),Ze=(r,e,l)=>c("span",{children:["If:"," ",r.conditions.map((t,s)=>c("span",{children:[!!s&&n(m,{IconComponent:null,value:t.logic,variant:"standard",onChange:i=>{r.object.conditions[s].logic=i.target.value,l.object.render()},children:Object.values($).map(i=>n(f,{value:i,children:i},i))}),n(m,{IconComponent:null,value:t.leftType,onChange:i=>{r.object.conditions[s].leftType=i.target.value,l.object.render()},variant:"standard",children:Object.values(x).map(i=>n(f,{value:i,children:i},i))}),t.leftType==="direction"&&n(m,{IconComponent:null,value:t.leftDirection,variant:"standard",onChange:i=>{r.object.conditions[s].leftDirection=i.target.value,l.object.render()},children:Object.values(y).map(i=>c(f,{value:i,children:[z(i),i]},i))}),t.leftType==="slot"&&n(b,{type:"number",value:t.leftSlot,variant:"standard",onChange:i=>{r.object.conditions[s].leftSlot=parseInt(i.target.value)||0,l.object.render()}}),n(m,{IconComponent:null,value:t.type,variant:"standard",onChange:i=>{r.object.conditions[s].type=i.target.value,l.object.render()},children:Object.values(w).map(i=>n(f,{value:i,children:i},i))}),n(m,{IconComponent:null,value:t.rightType,onChange:i=>{r.object.conditions[s].rightType=i.target.value,l.object.render()},variant:"standard",children:Object.values(x).map(i=>n(f,{value:i,children:i},i))}),t.rightType==="number"&&n(b,{type:"number",value:t.rightNumber,variant:"standard",onChange:i=>{r.object.conditions[s].rightNumber=parseInt(i.target.value)||0,l.object.render()}}),t.rightType==="direction"&&n(m,{IconComponent:null,value:t.rightDirection,variant:"standard",onChange:i=>{r.object.conditions[s].rightDirection=i.target.value,l.object.render()},children:Object.values(y).map(i=>c(f,{value:i,children:[z(i),i]},i))}),t.rightType==="slot"&&n(b,{type:"number",value:t.rightSlot,variant:"standard",onChange:i=>{r.object.conditions[s].rightSlot=parseInt(i.target.value)||0}}),n(A,{size:"small",onMouseDown:()=>{const i=r.object.conditions;i.splice(s,1),r.object.conditions=i,l.object.render()},children:n(Te,{})}),s===r.conditions.length-1&&n(A,{size:"small",onMouseDown:()=>{r.object.conditions.push({logic:$.And,leftType:x.Slot,leftSlot:0,type:w.Eq,rightType:S.Number,rightSlot:0}),l.object.render()},children:n(Ee,{})})]},s))]}),Ke=()=>"Pickup",et=()=>"Drop",tt=(r,e,l)=>c("span",{children:["Near:"," ","slot",n(b,{type:"number",value:r.slot,variant:"standard",onChange:t=>{r.object.setSlot(parseInt(t.target.value)||0),l.object.render()}}),"=",n(m,{IconComponent:null,value:r.nearType,onChange:t=>{r.object.setNearType(t.target.value),l.object.render()},variant:"standard",children:Object.values(O).map(t=>n(f,{value:t,children:t},t))})]}),rt=(r,e,l)=>c("span",{children:["Variable"," ","slot",n(b,{type:"number",value:r.slot,variant:"standard",onChange:t=>{r.object.setSlot(parseInt(t.target.value)||0),l.object.render()}}),"=",n(m,{IconComponent:null,value:r.variableType,onChange:t=>{t.target.value==="number"&&r.object.setNumberValue(0),t.target.value==="myitem"&&r.object.setMyItemValue(),t.target.value==="slot"&&r.object.setSlotValue(0)},variant:"standard",children:Object.values(N).map(t=>n(f,{value:t,children:t},t))}),r.variableType==="number"&&n(b,{type:"number",value:r.numberValue,variant:"standard",onChange:t=>{r.object.setNumberValue(parseInt(t.target.value)||0),l.object.render()}}),r.variableType==="slot"&&n(b,{type:"number",value:r.slotValue,variant:"standard",onChange:t=>{r.object.setSlotValue(parseInt(t.target.value)||0),l.object.render()}})]});var H;(function(r){r.Add="+",r.Subtract="-",r.Multiply="*",r.Divide="/"})(H||(H={}));var R;(function(r){r.Number="number",r.Direction="direction",r.Slot="slot"})(R||(R={}));const lt=(r,e,l)=>c("span",{children:["Calc"," ","slot",n(b,{type:"number",value:r.slotResult,variant:"standard",onChange:t=>{r.object.slotResult=parseInt(t.target.value)||0,l.object.render()}}),"=",n(m,{IconComponent:null,value:r.operand1type,onChange:t=>{t.target.value==="number"&&r.object.setOperand1Number(0),t.target.value==="direction"&&r.object.setOperand1Direction(p.Up),t.target.value==="slot"&&r.object.setOperand1Slot(0),l.object.render()},variant:"standard",children:Object.values(H).map(t=>n(f,{value:t,children:t},t))}),r.operand1type===R.Number&&n(b,{type:"number",value:r.operand1NumberValue,variant:"standard",onChange:t=>{r.object.setOperand1Number(parseInt(t.target.value)||0),l.object.render()}}),r.operand1type===R.Direction&&n(m,{IconComponent:null,value:r.operand1DirectionValue,variant:"standard",onChange:t=>{r.object.setOperand1Direction(t.target.value),l.object.render()},children:Object.values(p).map(t=>c(f,{value:t,children:[z(t),t]},t))}),r.operand1type===R.Slot&&n(b,{type:"number",value:r.operand1SlotValue,variant:"standard",onChange:t=>{r.object.setOperand1Slot(parseInt(t.target.value)||0),l.object.render()}}),n(m,{IconComponent:null,value:r.operator,variant:"standard",onChange:t=>{r.operator=t.target.value},children:Object.values(H).map(t=>n(f,{value:t,children:t},t))}),n(m,{IconComponent:null,value:r.operand2type,onChange:t=>{t.target.value==="number"&&r.object.setOperand2Number(0),t.target.value==="direction"&&r.object.setOperand2Direction(p.Up),t.target.value==="slot"&&r.object.setOperand2Slot(0),l.object.render()},variant:"standard",children:["number","direction","slot","myitem"].map(t=>n(f,{value:t,children:t},t))}),r.operand2type===R.Number&&n(b,{type:"number",value:r.operand2NumberValue,variant:"standard",onChange:t=>{r.object.setOperand2Number(parseInt(t.target.value)||0),l.object.render()}}),r.operand2type===R.Direction&&n(m,{IconComponent:null,value:r.operand2DirectionValue,variant:"standard",onChange:t=>{r.object.setOperand2Direction(t.target.value),l.object.render()},children:Object.values(p).map(t=>c(f,{value:t,children:[z(t),t]},t))}),r.operand2type===R.Slot&&n(b,{type:"number",value:r.operand2SlotValue,variant:"standard",onChange:t=>{r.object.setOperand2Slot(parseInt(t.target.value)||0),l.object.render()}})]}),st=(r,e,l)=>c("span",{children:["Say:"," ",n(b,{value:r.hear,variant:"standard",onChange:t=>{r.object.setSay(t.target.value),l.object.render()}}),n(m,{IconComponent:null,value:r.direction,variant:"standard",onChange:t=>{r.object.setDirection(t.target.value),l.object.render()},children:Object.values(p).map(t=>c(f,{value:t,children:[z(t),t]},t))})]}),it=(r,e,l)=>c("span",{children:["Hear:"," ",n(b,{value:r.hear,variant:"standard",onChange:t=>{r.object.hear=t.target.value,l.object.render()}})]}),nt=(r,e,l)=>c("span",{children:["Foreach:"," ",n(m,{IconComponent:null,value:r.directions,variant:"standard",multiple:!0,onChange:t=>{r.object.setDirections(t.target.value),l.object.render()},children:Object.values(p).map(t=>c(f,{value:t,children:[z(t),t]},t))}),n(b,{type:"number",value:r.slotNumber,variant:"standard",onChange:t=>{r.object.slotNumber=parseInt(t.target.value)||0,l.object.render()}})]}),at=()=>"End",ot=(r,e,l)=>c("span",{children:["Write"," ",n(b,{type:"number",value:r.value,variant:"standard",onChange:t=>{r.object.value=parseInt(t.target.value)||0,l.object.render()}})]});function ct(r,e,l,t){let s=null;return r.type==="step"&&(s=We(r,e,l)),r.type==="give"&&(s=Qe(r,e,l)),r.type==="take"&&(s=Xe(r,e,l)),r.type==="goto"&&(s=Ye(r,e,l)),r.type==="if"&&(s=Ze(r,e,l)),r.type==="endif"&&(s="Endif"),r.type==="pickup"&&(s=Ke()),r.type==="drop"&&(s=et()),r.type==="near"&&(s=tt(r,e,l)),r.type==="variable"&&(s=rt(r,e,l)),r.type==="calc"&&(s=lt(r,e,l)),r.type==="say"&&(s=st(r,e,l)),r.type==="hear"&&(s=it(r,e,l)),r.type==="foreach"&&(s=nt(r,e,l)),r.type==="endforeach"&&(s="Endforeach"),r.type==="end"&&(s=at()),r.type==="write"&&(s=ot(r,e,l)),r.type==="endif"&&(t-=20),r.type==="endforeach"&&(t-=20),s=c("span",{children:[e,": ",n("span",{style:{paddingLeft:t},children:s}),n(A,{size:"small",onMouseDown:()=>{l.object.removeOperator(e),l.object.render()},children:n(Ne,{fontSize:"small"})})]},e),r.type==="if"&&(t+=20),r.type==="foreach"&&(t+=20),{result:s,intend:t}}const ht=Re(({children:r})=>n("div",{children:r})),dt=$e(({children:r})=>n("div",{children:r}));function ut(r){const[e,l]=E.exports.useState();E.exports.useEffect(()=>{const i=new Q;i.deserialize(r.level),i.renderCallback=l,i.render()},[r.level]);let t=0;const s=E.exports.useMemo(()=>e?e.code.map((i,a)=>{const u=ct(i,a,e,t);return t=u.intend,u.result}):[],[e==null?void 0:e.code]);return e?c(G,{container:!0,children:[c(G,{item:!0,md:6,children:[n("h2",{children:e.level.task}),n("h4",{children:e.state===I.Run&&e.level.winCallback(e.level.object)?"Win":null}),n(Ce,{game:e})]}),n(G,{item:!0,md:1,children:n(Je,{game:e})}),n(G,{item:!0,md:5,children:c("div",{style:{paddingLeft:20},children:[n(dt,{onSortEnd:({oldIndex:i,newIndex:a},u)=>{u.ctrlKey||(e.object.moveOperator(i,a),e.object.render())},children:e.code.map((i,a)=>c(ht,{index:a,children:[e.object.level.getCharacters().filter(d=>d.currentLine===a).map(d=>n("span",{children:n(M,{fontSize:"small",style:{color:d.color}})},d.name)),s[a]]},a))}),c("div",{style:{paddingTop:20},children:["Speed:"," ",n(b,{variant:"standard",type:"number",value:1e3/e.speed,onChange:i=>{e.object.speed=1e3/(parseInt(i.target.value)||1),e.object.render()}})]}),c("div",{style:{display:"flex",gap:4},children:[n("div",{children:n(D,{variant:"contained",onClick:()=>{e.object.level.deserialize(r.level.level),e.object.render(),e.object.state===I.Run?e.object.stop():e.object.start()},disabled:t!==0,children:e.object.state===I.Run?"Stop":"Run"})}),n("div",{children:n(D,{variant:"contained",onClick:()=>P(JSON.stringify(e.object.serialize(),null,2)),children:"Copy"})}),n("div",{children:n(D,{variant:"contained",onClick:()=>{},children:"Clear"})})]}),e.object.level.getCharacters().map(i=>{var a;return c("div",{children:[i.name," ",n("span",{style:{color:i.color},children:n(M,{fontSize:"small"})})," ",(a=i.slots)==null?void 0:a.map((u,d)=>c("span",{children:[u.getNumberValue()," "]},d))]},i.name)}),n("pre",{children:JSON.stringify(Object.values(e.object.level.cells).filter(i=>i.character).map(i=>{var a;return{name:(a=i.character)==null?void 0:a.name,line:i.character.currentLine,x:i.x,y:i.y}}),null,2)})]})})]}):null}const pt={level:{task:"Remove two boxes",width:5,height:7,cells:L.parseCells(`box|1 box|1 hole box|1 hole
empty empty hole box|2 empty
empty empty hole box|3 empty
empty empty hole box|4 printer
empty empty empty box|5 empty
hole hole
hole hole`,[{coordinates:[0,0],name:"first",color:"red"},{coordinates:[1,0],name:"second",color:"green"}]),winCallback:r=>Object.values(r.cells).filter(e=>e.item).length+r.getCharacters().filter(e=>!e.isDead&&e.item).length===5},code:[]},vt={level:{task:"Move boxes",width:5,height:5,cells:L.parseCells(`box|1 box|1 empty box|1 empty
        empty empty wall box|2 empty
        empty empty wall box|3 empty
        empty empty empty box|4 empty
        empty empty empty box|5 empty`,[{coordinates:[0,0],name:"first",color:"red"},{coordinates:[1,0],name:"second",color:"green"}]),winCallback:r=>Object.values(r.cells).filter(e=>e.item).length+r.getCharacters().filter(e=>!e.isDead&&e.item).length===5},code:[{type:o.Step,stepType:g.Direction,directions:[p.Left,p.Right,p.Up,p.Down]},{type:o.Step,stepType:g.Direction,directions:[p.Left,p.Right,p.Up,p.Down]},{type:o.Pickup},{type:o.Step,stepType:g.Direction,directions:[p.Left,p.Right,p.Up,p.Down]},{type:o.Step,stepType:g.Direction,directions:[p.Left,p.Right,p.Up,p.Down]},{type:o.Drop},{type:o.Goto,line:0}]},mt={level:{task:"Remove only box with 2",width:5,height:7,cells:L.parseCells(`empty empty empty empty empty
box|2|tag2 box|1|tag1 wall empty empty
empty empty wall empty empty
empty empty empty empty empty
empty empty empty empty empty
hole hole
hole hole`,[{coordinates:[0,0],name:"first",color:"red"},{coordinates:[1,0],name:"second",color:"green"}]),winCallback:r=>(Object.values(r.cells).find(e=>{var l;return((l=e.item)==null?void 0:l.tag)==="tag1"})||r.getCharacters().find(e=>{var l;return((l=e.item)==null?void 0:l.tag)==="tag1"}))&&!(Object.values(r.cells).find(e=>{var l;return((l=e.item)==null?void 0:l.tag)==="tag2"})||r.getCharacters().find(e=>{var l;return!e.isTerminated&&((l=e.item)==null?void 0:l.tag)==="tag2"}))},code:[]},ft={level:{task:"Diagonal boxes",width:5,height:7,cells:L.parseCells(`empty empty empty empty empty
box|1 box|1 box|1 box|1 box|1
empty empty empty empty empty
empty empty empty empty empty
empty empty empty empty empty
empty empty empty empty empty
empty empty empty empty empty`,[{coordinates:[1,1],name:"first",color:"red"},{coordinates:[2,1],name:"second",color:"green"},{coordinates:[3,1],name:"3",color:"yellow"},{coordinates:[4,1],name:"4",color:"blue"}]),winCallback:r=>[0,1,2,3,4].every(e=>r.cells[`${e}x${e+1}`].item)},code:[]},yt={level:{task:"Sort numbers",width:5,height:5,cells:L.parseCells(`empty empty empty empty empty
box|random box|0 box|random box|random box|random
empty empty empty empty empty
empty empty empty empty empty
empty empty empty empty empty`,[{coordinates:[0,1],name:"1",color:"purple"},{coordinates:[1,1],name:"2",color:"red"},{coordinates:[2,1],name:"3",color:"green"},{coordinates:[3,1],name:"4",color:"yellow"},{coordinates:[4,1],name:"5",color:"blue"}]),winCallback:r=>[0,1,2,3,4].every(e=>{var l,t,s,i;return e===0||((t=(l=r.cells[`${e}x1`].character)==null?void 0:l.item)==null?void 0:t.value)>=((i=(s=r.cells[`${e-1}x1`].character)==null?void 0:s.item)==null?void 0:i.value)})},code:[]},bt={level:{task:"Print and shred 10 boxes",width:5,height:5,cells:L.parseCells(`empty empty empty empty empty
empty empty empty empty empty
empty printer shredder empty empty
empty empty empty empty empty
empty empty empty empty empty`,[{coordinates:[1,1],name:"first",color:"red"},{coordinates:[2,1],name:"second",color:"green"}]),winCallback:r=>r.cells["2x2"].shredded>=10},code:[]},gt={level:{task:"Print and shred 10 boxes (no move)",width:7,height:5,cells:L.parseCells(`hole hole hole hole hole hole hole
hole empty empty empty empty empty hole
hole printer hole hole hole shredder hole
hole hole hole hole hole hole hole
hole hole hole hole hole hole hole`,[{coordinates:[1,1],name:"1",color:"purple"},{coordinates:[2,1],name:"2",color:"red"},{coordinates:[3,1],name:"3",color:"green"},{coordinates:[4,1],name:"4",color:"yellow"},{coordinates:[5,1],name:"5",color:"blue"}]),winCallback:r=>r.cells["5x2"].shredded>=10},code:[]},V=[pt,vt,mt,ft,yt,bt,gt];function jt(r){var T;const[e,l]=E.exports.useState(()=>{const h=new Q;return h.deserialize(V[0]),h.renderCallback=v=>l(v),h.serialize(!0)}),[t,s]=E.exports.useState(!1),i=e.object.level.cells[t],[a,u]=E.exports.useState(0),d=JSON.stringify(e.object.serialize(),null,2);return c("div",{children:[c("div",{children:[n(m,{variant:"standard",value:a,onChange:h=>u(parseInt(h.target.value)),children:V.map((h,v)=>n(f,{value:v,children:h.level.task},v))}),n(D,{onClick:()=>{const h=new Q;h.deserialize(V[a]),h.renderCallback=v=>l(v),h.render()},children:"Import"})]}),c("div",{children:[n(b,{label:"width",value:e.level.width,variant:"standard",onChange:h=>{e.object.level.changeSize(parseInt(h.target.value),e.level.height),e.object.render()}}),n(b,{label:"height",value:e.level.height,variant:"standard",onChange:h=>{e.object.level.changeSize(e.level.width,parseInt(h.target.value)),e.object.render()}}),n(D,{onClick:()=>{e.object.level.crop(e.object.level.width,e.object.level.height),e.object.render()},children:"Crop"})]}),n(Ce,{game:e,onClick:h=>s(h)}),c("div",{children:[c("div",{children:[n(D,{onClick:()=>P(JSON.stringify(e.object.level.serialize(!1),null,2)),children:"Copy cells"}),n(D,{onClick:()=>P(JSON.stringify(e.object.level.getCharacters(),null,2)),children:"Copy characters"}),n(D,{onClick:()=>P(d),children:"Copy level"})]}),c("pre",{children:[n("div",{children:d}),n("div",{children:JSON.stringify(e.object.level.serialize(!1),null,2)}),n("div",{children:JSON.stringify(e.object.serialize(),(h,v)=>typeof v=="function"?`${v}`:v,2)})]})]}),c(Oe,{open:t!==!1,onClose:()=>s(!1),children:[n(Me,{children:t}),c(Ve,{children:[n("div",{children:n(m,{value:i==null?void 0:i.getType(),onChange:h=>{const v=le(t);e.object.level.addCell(v[0],v[1],new _(e.object.level,v[0],v[1])),e.object.render()},children:Object.values(j).map(h=>n(f,{value:h,children:h},h))})}),(i==null?void 0:i.getType())==="empty"?c("div",{children:["Item:"," ",n(ee,{checked:!!(i==null?void 0:i.item),onChange:h=>{h.target.checked?i.setItem(new q(0)):i.setItem(null),e.object.render()}})]}):null,(i==null?void 0:i.item)?n("div",{children:n(b,{label:"Item value",value:(T=i==null?void 0:i.item)==null?void 0:T.value,variant:"standard",onChange:h=>{i.item.value=parseInt(h.target.value)||0,e.object.render()}})}):null,(i==null?void 0:i.getType())==="empty"?c("div",{children:["Character:"," ",n(ee,{checked:!!i.character,onChange:h=>{h.target.checked?(i.setCharacter(new ne(i,`${e.object.level.getCharacters().length+1}`)),i.character.color="green"):i.character=null,e.object.render()}})]}):null]})]})]})}const Ct=Fe({components:{MuiTextField:{styleOverrides:{root:{width:"50px","& input":{textAlign:"center"}}}},MuiSelect:{styleOverrides:{select:{paddingLeft:"24px"}}}}});function xt(){const[r,e]=E.exports.useState(0),[l,t]=E.exports.useState(!1);return n(Ge,{theme:Ct,children:c("div",{className:"App",children:[n("h1",{children:"Open7BH"}),c(Pe,{value:l?1:0,onChange:(s,i)=>t(i===1),children:[n(te,{label:"Game"}),n(te,{label:"Editor"})]}),l?n(jt,{}):c(F,{children:[n("div",{children:n(m,{variant:"standard",value:r,onChange:s=>e(parseInt(s.target.value)),children:V.map((s,i)=>n(f,{value:i,children:s.level.task},i))})}),n(ut,{level:V[r],levelNumber:r})]})]})})}const wt="modulepreload",xe={},St="./",It=function(e,l){return!l||l.length===0?e():Promise.all(l.map(t=>{if(t=`${St}${t}`,t in xe)return;xe[t]=!0;const s=t.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":wt,s||(a.as="script",a.crossOrigin=""),a.href=t,document.head.appendChild(a),s)return new Promise((u,d)=>{a.addEventListener("load",u),a.addEventListener("error",d)})})).then(()=>e())},kt=r=>{r&&r instanceof Function&&It(()=>import("./web-vitals.67dce932.js"),[]).then(({getCLS:e,getFID:l,getFCP:t,getLCP:s,getTTFB:i})=>{e(r),l(r),t(r),s(r),i(r)})},Dt=Ue.createRoot(document.getElementById("root"));Dt.render(n(_e.StrictMode,{children:n(xt,{})}));kt();
